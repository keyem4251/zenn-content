---
title: "データ指向アプリケーションデザイン 3章 まとめ"
emoji: "🎩"
type: "tech"
topics: ["列思考", "インデックス", "LSMツリー", "memo"]
published: false
---

# はじめに
データ指向アプリケーションデザインを読んでいるので自分の理解のためにメモをまとめます。  
概要では全体に書いてあること、詳細では概要のそれぞれの要素についてを書きます。

# 概要
2章ではアプリケーションの開発者の側からデータベースを利用する際にどういう形式でデータを保存するか、取り出すかをデータモデル、クエリの種類や特徴を通して整理しました。  
3章ではデータベースがデータを保存、取り出す際に内部でストレージエンジンがどのように動作をするか、どういう形式でデータを保存、取り出すのかを整理します。  
まず大きくはトランザクション系、分析系のどちらの用途でデータベースを使用するかで内部の動作が異なります。  
トランザクション系は特定の時間内に処理するリクエストは多いですが、1度のリクエストで処理するレコード数は少ないという特性のためストレージエンジンがインデックスを用いて高速にデータを取り出す必要があります。  
これはトランザクション系の場合はディスク上でデータのある場所を探すシークがボトルネックになりやすいということです。  
分析計は特定の時間内に処理するリクエストは少ないですが、1度のリクエストで処理するレコード数は多いという特性のためストレージエンジンが列志向でデータをコンパクトにエンコードしデータを大量に取り出す必要があります。  
これは分析計の場合はディスクからデータを移動するための帯域がボトルネックになりやすいということです。  
トランザクション系の場合にストレージエンジンが使用するデータの保存形式は、log-structured、Bツリーの2種類があります。  
ToDo log-structured、Bツリーの得意なことを書く  
分析計の場合にストレージエンジンが使用するデータの保存形式は列志向となっています。


# 詳細
キーワードを書く
- ハッシュインデックス
- Bツリー
- LSMツリー
- トランザクション or 分析処理
- 列志向ストレージ
