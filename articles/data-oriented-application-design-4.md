---
title: "データ指向アプリケーションデザイン 4章 まとめ"
emoji: "🎩"
type: "idea"
topics: ["エンコード", "JSON", "ProtocolBuffers"]
published: false
---
# はじめに
データ指向アプリケーションデザインを読んでいるので自分の理解のためにメモをまとめます。  
概要では全体に書いてあること、詳細では概要のそれぞれの要素についてを書きます。  

# 概要
システムに変更が起きた際にデータフォーマット、スキーマには変更が生じることがあります。  
その際に一度に切り替わるのではなく、新旧のデータフォーマット、スキーマが共存することがありえます。  
4章ではこういった事態のためにJSON、Protocol Buffersなどのデータフォーマットがスキーマの変更にどのように対応するか、新旧のデータフォーマットが存在する場合にシステムをどうサポートするかを記載します。  
また各データフォーマットがRESTなどの通信、データストレージでどのように扱われているかも記載します。  
分散アプリケーションではローリングアップデートで複数のバージョンが混在する場合、サービス同士が異なるフォーマット、バージョンでやりとりをする場合に前方、後方互換性を持ってエンコードされる必要があります。  
プログラミング言語固有のエンコーディングはフォーマットが使用している言語に限定され、互換性を欠くことがあります。  
JSON、XML、CSVなどのテキストフォーマットはデコードしなくとも人が理解できます。互換性は利用方法によりますが、広く使用されているため他のサービスでも対応が行いやすい可能性があります。またデータ型があいまいなため数字やバイナリ文字列を扱う場合は注意が必要です。  
Protocol Buffersなどのスキーマを持つバイナリフォーマットはデコードを行わないと人が読むことはできるませんが、コンパクトで効率的なエンコーディングを行うことができ、前方、後方互換性もサポートしています。  
それぞれのサービス、ノードでどのようなデータフォーマットが使われているかを理解することにより、ローリングアップデート、サービス間の連携を安全に行うことができます。

# 詳細
